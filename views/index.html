<%-layout('layout')%>
<div id="content" class="col-xs-8">
	<div class="panel">
		<div class="header">
			<ul class="nav nav-pills pull-xs-left">
		    	<li class="nav-item">
		        	<a class="nav-link active" href="#">All</a>
		      	</li>
		      	<li class="nav-item">
		        	<a class="nav-link" href="#">Tab1</a>
		      	</li>
		      	<li class="nav-item">
		        	<a class="nav-link" href="#">Tab2</a>
		      	</li>
		      	<li class="nav-item">
		        	<a class="nav-link" href="#">Tab3</a>
		      	</li>
		      	<li class="nav-item">
		        	<a class="nav-link" href="#">Tab4</a>
		      	</li>
		    </ul>
		</div>
		<div class="inner">
			<div id="topic_list">
				<%-partial('./topic/list', {collections: topics, as: 'topic'})%>
			</div>
			<nav aria-label="...">
				<ul class="pagination">
					<li class="page-item disabled">
			      		<a class="page-link" href="/?tab=<%=tab%>&page=1" tabindex="-1" aria-label="Previous">
			        		<span aria-hidden="true">&laquo;</span>
			        		<span class="sr-only">Previous</span>
			      		</a>
			    	</li>
			    	<% if(page - 3 > 1) {%>
			    	<li class="page-item"><a class="page-link" href="/?page=2">...</a>
			    	</li>
			    	<%}%>
			    	<%
			    		var i = 3;
			    		while(i >= 1) {
			    			if(page - i >= 1) {%>
			    				<li><a href="/?tab=<%=tab%>&page=<%page - i%>" ></a></li>
			    			<%}
			    			i--;
			    		} 
			    	%>
				    <li class="page-item active">
				      <a class="page-link" href="/?tab=<%=tab%>&page=<%=page%>"><%=page%> <span class="sr-only">(current)</span></a>
				    </li>
				    <%
			    		var i = 1;
			    		while(i <= 3) {
			    			if(page + i <= pageCount) {%>
			    				<li><a href="/?tab=<%=tab%>&page=<%page + i%>" ><%page + i%></a></li>
			    			<%}
			    			i++;
			    		} 
			    	%>
			    	<li class="page-item"><a class="page-link" href="/?page=2">2</a></li>
			    	<li class="page-item"><a class="page-link" href="#">3</a></li>
			    	<li class="page-item"><a class="page-link" href="#">4</a></li>
			    	<li class="page-item"><a class="page-link" href="#">5</a></li>
			    	<% if(page + 3 < pageCount) {%>
			    	<li class="page-item"><a class="page-link" href="/?page=2">...</a></li>
			    	<%}%>
			    	<li class="page-item">
			      		<a class="page-link" href="#" aria-label="Next">
			        		<span aria-hidden="true">&raquo;</span>
			        		<span class="sr-only">Next</span>
			      		</a>
			    	</li>
			  </ul>
			</nav>
		</div>
	</div>
</div>

<%-partial('sign/sidebar')%>